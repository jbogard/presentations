{"Name":"SagaDetailsIndex","Version":54003,"Collections":["SagaSnapshots","SagaHistories"],"LockMode":0,"Priority":1,"State":0,"IndexDefinition":{"SourceType":"Documents","LockMode":"Unlock","Priority":"Normal","State":"Normal","OutputReduceToCollection":null,"PatternForOutputReduceToCollectionReferences":null,"PatternReferencesCollectionName":null,"ReduceOutputIndex":null,"DeploymentMode":null,"Name":"SagaDetailsIndex","Reduce":"results.GroupBy(result => result.SagaId).Select(g => new {\n    g = g,\n    first = DynamicEnumerable.FirstOrDefault(g)\n}).Select(this0 => new {\n    Id = this0.first.SagaId,\n    SagaId = this0.first.SagaId,\n    SagaType = this0.first.SagaType,\n    Changes = Enumerable.ToList(DynamicEnumerable.OrderByDescending(this0.g.SelectMany(x => x.Changes), x0 => x0.FinishTime).Take(50000))\n})","Type":"MapReduce","Maps":["docs.SagaSnapshots.Select(doc => new {\n    SagaId = doc.SagaId,\n    Id = doc.SagaId,\n    SagaType = doc.SagaType,\n    Changes = new[] {\n        new {\n            Endpoint = doc.Endpoint,\n            FinishTime = doc.FinishTime,\n            InitiatingMessage = doc.InitiatingMessage,\n            OutgoingMessages = doc.OutgoingMessages,\n            StartTime = doc.StartTime,\n            StateAfterChange = doc.StateAfterChange,\n            Status = doc.Status\n        }\n    }\n})","docs.SagaHistories.Select(doc => new {\n    SagaId = doc.SagaId,\n    Id = doc.SagaId,\n    SagaType = doc.SagaType,\n    Changes = doc.Changes\n})"],"ClusterState":{"LastStateIndex":0},"Fields":{"SagaId":{"Analyzer":null,"Indexing":"Exact","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null},"SagaType":{"Analyzer":null,"Indexing":"No","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null},"Changes":{"Analyzer":null,"Indexing":"No","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null}},"Configuration":{},"AdditionalSources":{},"AdditionalAssemblies":[]}}